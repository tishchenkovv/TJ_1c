
# Начало Формирование строки

perl -n -e 'if (/^\d\d:\d\d\.\d+/) {$event =~ s/\n/<line>/g; print $event."\n"; $event = "";} $event .= $_; END{print $event."\n"};'

# Конец Формирование строки

# Начало Задача №1 Вывести часы и минуты где ошибок больше 20
grep -rP '^\d\d:.*,EXCP,' | grep -oP "\d\d\.log:\d\d" | sed -se 's/.log//' | sort | uniq -c | awk '{if($1 > 20) print}'

# Конец Задача №1 Вывести часы и минуты где ошибок больше 20
